<Window x:Class="ChatbotFrontend.ChatView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:ChatbotFrontend"
        Height="500" Width="400" Background="#FFE6E6FA">

    <Window.Icon>
        <BitmapImage UriSource="assets\buggyicon.ico"/>
    </Window.Icon>

    <Window.Resources>
        <local:BoolToBrushConverter x:Key="BoolToBrushConverter"/>
    </Window.Resources>
    <Grid Height="484" VerticalAlignment="Bottom">
        <Grid.ColumnDefinitions>
            <ColumnDefinition/>
            <ColumnDefinition/>
        </Grid.ColumnDefinitions>
        <!-- Chat-Log -->
        <ListBox x:Name="ChatLog" Margin="10,10,10,60" Background="#FFFDEBF7" BorderBrush="#FFFB90B7" BorderThickness="2"
                 FontFamily="Segoe UI" FontSize="14" Foreground="Black" Grid.ColumnSpan="2" RenderTransformOrigin="0.679,0.581" SelectionChanged="ChatLog_SelectionChanged">
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <Border Background="{Binding IsBot, Converter={StaticResource BoolToBrushConverter}}" Padding="10" CornerRadius="10" Margin="5">
                        <TextBlock Text="{Binding Message}" TextWrapping="Wrap" MaxWidth="250"/>
                    </Border>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox>
        <ScrollViewer VerticalScrollBarVisibility="Auto">
            <StackPanel x:Name="ChatContainer"/>
        </ScrollViewer>

        <!-- Eingabefeld und Button -->
        <StackPanel x:Name="UserView" Orientation="Horizontal" VerticalAlignment="Bottom" Margin="10,0,10,10" Grid.ColumnSpan="2" Height="30">
            <TextBox x:Name="UserInput" Width="300" Height="30" Background="#FFFDEBF7" Foreground="#FF333333"
                     BorderBrush="#FFFB90B7" BorderThickness="2" FontFamily="Segoe UI"/>
            <Button x:Name="SendButton" Content="Send" Width="71" Height="30" Margin="10,0,0,0" Background="#FFFB90B7" Foreground="White"
                    FontWeight="Bold" BorderThickness="0" Click="SendMessage_Click" VerticalAlignment="Center"/>
        </StackPanel>
        <Image Height="100" Width="100"/>
        <Image RenderTransformOrigin="1,1" Margin="10,208,104,192" Source="assets\buggyicon.ico"/>
        <RichTextBox x:Name="BotBubble" Margin="105,222,45,206" Grid.ColumnSpan="2" TextChanged="RichTextBox_TextChanged" Background="#FFFB90B7" BorderBrush="#FFFB90B7">
            <FlowDocument>
            </FlowDocument>
        </RichTextBox>
        <RichTextBox x:Name="UserBubble" Margin="119,326,31,102" Grid.ColumnSpan="2" TextChanged="RichTextBox_TextChanged" Background="#FFFFCADE" BorderBrush="#FFFFCADE">
            <FlowDocument>
            </FlowDocument>
        </RichTextBox>
    </Grid>
</Window>